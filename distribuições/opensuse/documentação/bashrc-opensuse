# Sample .bashrc for SUSE Linux
# Copyright (c) SUSE Software Solutions Germany GmbH

# There are 3 different types of shells in bash: the login shell, normal shell
# and interactive shell. Login shells read ~/.profile and interactive shells
# read ~/.bashrc; in our setup, /etc/profile sources ~/.bashrc - thus all
# settings made here will also take effect in a login shell.
#
# NOTE: It is recommended to make language settings in ~/.profile rather than
# here, since multilingual X sessions would not work properly if LANG is over-
# ridden in every subshell.

test -s ~/.alias && . ~/.alias || true

# append to the history file, don't overwrite it
shopt -s histappend

# Ignorar e apagar entradas em duplicado no histórico da bash:
HISTCONTROL=ignoreboth:erasedups

# Número máximo de comandos do histórico da bash que serão guardados:
HISTSIZE=1000
HISTFILESIZE=2000

# Possibilita a execução de comandos ao terminar a sessão na bash, a partir do ficheiro $HOME/.bash_logout
trap '. $HOME/.bash_logout; exit' 0

# Procurar ligações quebradas
alias ligações-quebradas-procurar="echo && sudo find / -not -path '/proc*' -not -path '/run*' -xtype l"

# Remover ligações quebradas
alias ligações-quebradas-remover="ligações-quebradas-procurar -exec sudo rm -rf {} + "

# Verificar se algum serviço do systemd falhou e procurar erros de alta prioridade no journal do systemd:
alias erros="echo && systemctl --failed && echo && journalctl -p 3 -b && echo"

alias actualizar="sudo zypper dup"

alias procurar="sudo zypper se"

alias instalar="sudo zypper in"

alias reinstalar="sudo zypper in -f"

alias desinstalar="sudo zypper rm --clean-deps"

alias pertencer="zypper se --provides --match-exact"

alias questionar-simples='rpm -qa --qf "%{NAME}\n"|sort|grep'

alias questionar-detalhado="rpm -qa|grep"

alias orfãos="sudo zypper pa --orphaned"

alias desnecessários="sudo zypper pa --unneeded"

alias cache="sudo zypper clean --all"

alias desligar='/usr/bin/poweroff'
alias reiniciar='/usr/bin/reboot'

alias nano="nano -l"
alias mv="mv -iv"
alias cp="cp -iv"

# Grub
alias grub-instalar='sudo /usr/sbin/grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=opensuse'
alias grub-actualizar="sudo grub2-mkconfig -o /boot/efi/EFI/opensuse/grub.cfg && sudo grub2-mkconfig -o /boot/grub2/grub.cfg"

alias montar="sudo mount"
alias desmontar="sudo umount"

alias youtube-dl-mp3='youtube-dl --extract-audio --audio-format mp3 --audio-quality 0'

alias chroot-arch="sudo mount /dev/sda2 /media/arch && sudo mount -t proc none /media/arch/@/proc && sudo mount --rbind /sys /media/arch/@/sys && sudo mount --rbind /dev /media/arch/@/dev && sudo chroot /media/arch/@"
alias chroot-fedora="sudo mount /dev/sda3 /media/fedora && sudo mount -t proc none /media/fedora/proc && sudo mount --rbind /sys /media/fedora/sys && sudo mount --rbind /dev /media/fedora/dev && sudo chroot /media/fedora"
alias chroot-debian="sudo mount /dev/sda4 /media/debian && sudo mount -t proc none /media/debian/proc && sudo mount --rbind /sys /media/debian/sys && sudo mount --rbind /dev /media/debian/dev && sudo chroot /media/debian"

# KDE
EDITOR=/usr/bin/kwrite
VISUAL=$EDITOR
export EDITOR VISUAL

alias ediroot="SUDO_EDITOR=$EDITOR sudoedit"

alias grep='grep -i --color=auto'
alias ls='ls -l --color'
LS_COLORS='di=1;34:fi=1;97:ln=31:pi=5:so=5:bd=5:cd=5:or=05;37;41:mi=31;5:ex=32:*.pdf=1;90'
export LS_COLORS

PROMPT_COMMAND="history -n; history -w; history -c; history -r; $PROMPT_COMMAND"

export PATH="/media/dados/linux/scripts:$PATH"
